import{_ as S,u as C,b as B,d as c,P as l,v as V,m as y,l as w,r as K,o,c as n,a as t,n as u,t as _,w as P,F as k,f as A,q as j,A as r,s as D,e as E,p as N,h as F}from"./index-268f8f50.js";const p={setup(){const s=C();async function a(){try{await V.getVaultById(s.params.id)}catch{y.push({name:"Home"}),l.error("Vault is private or doesnt exist")}}async function v(){try{await j.getVaultKeeps(s.params.id)}catch(e){l.error("error getting keeps in vault"),w.log(e)}}return B(()=>{a(),v()}),{vault:c(()=>{var e;return(e=r)==null?void 0:e.activeVault}),vaultImg:c(()=>{var e,i;return`url(${(i=(e=r)==null?void 0:e.activeVault)==null?void 0:i.img})`}),keeps:c(()=>r.keepsInVault),account:c(()=>r.account),async deleteVault(){try{await l.confirm("Are you sure you want to delete this Vault?")&&(await V.deleteVault(s.params.id),y.push({name:"Account"}),l.success("Deleted Vault"))}catch(e){l.error("error deleting vault"),w.log(e)}}}}},x=()=>{D(s=>({"437b9c25":s.vaultImg}))},b=p.setup;p.setup=b?(s,a)=>(x(),b(s,a)):x;const m=s=>(N("data-v-4a3bdf00"),s=s(),F(),s),M={key:0,class:"container"},q={class:"row"},H={class:"col-6 offset-3 vault-img d-flex justify-content-end text-light flex-column title-text align-items-center mt-3"},L={key:0,class:"mb-5 fs-1",title:"Private Vault"},R=m(()=>t("i",{class:"mdi mdi-lock"},null,-1)),z=[R],G={class:"d-flex flex-column align-items-center title-card"},J={class:"d-flex justify-content-center mt-3 fw-medium fs-3"},O={class:"keep-count"},Q={key:0,class:"dropdown options"},T=m(()=>t("button",{class:"btn fs-2 fw-medium",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," ... ",-1)),U={class:"dropdown-menu"},W=m(()=>t("li",null,[t("a",{class:"dropdown-item",href:"#","data-bs-toggle":"modal","data-bs-target":"#vaultEditor"},"Edit Vault")],-1)),X={class:"container"},Y={class:"row"},Z={class:"keep-container"};function $(s,a,v,e,i,ee){var f,h,g;const I=K("KeepCard");return o(),n(k,null,[e.vault?(o(),n("header",M,[t("section",q,[t("div",H,[e.vault.isPrivate?(o(),n("div",L,z)):u("",!0),t("div",G,[t("h1",null,_((f=e.vault)==null?void 0:f.name),1),t("p",null,"By: "+_((g=(h=e.vault)==null?void 0:h.creator)==null?void 0:g.name),1)])]),t("div",J,[t("p",O,_(e.keeps.length)+" Keeps",1),e.vault.creatorId==e.account.id?(o(),n("div",Q,[T,t("ul",U,[W,t("li",null,[t("a",{onClick:a[0]||(a[0]=P(d=>e.deleteVault(),["prevent"])),class:"dropdown-item",href:"#"},"Delete Vault")])])])):u("",!0)])])])):u("",!0),t("main",X,[t("section",Y,[t("div",Z,[(o(!0),n(k,null,A(e.keeps,d=>(o(),n("div",{class:"",key:d.id},[E(I,{keep:d},null,8,["keep"])]))),128))])])])],64)}const se=S(p,[["render",$],["__scopeId","data-v-4a3bdf00"]]);export{se as default};
